<html lang="en">
 <header>
    <title>Prototype Email Automation</title>
 </header>
 <head>
  <link rel="stylesheet" href="style.css">
 </head>
  <body>
    <h2 style="text-align:center">Prototype Email Automation</h2>
    <div id="sidemenu">
      <span style="font-size:25px;cursor:pointer" onclick="openNav()">&#9776; Menu</span>
    </div>
<br><br><br>
<button style="width: 150px; height: 30px; border-radius:10px;margin-bottom:10px; cursor:pointer;">Make a new contact</button>
<br>
  <input type="text" id="myInput" onkeyup="myFunction()" size="40" placeholder="Search for an end date in this format(dd/mm/yyyy)">
  <div>
   <table id="myTable">
       <thead>
          <tr>
            <th>Product</th>
            <th>Supplier</th>
            <th>End Date</th>
            <th>Email</th>
          </tr>
       </thead>
       <tbody>

       </tbody>
   </table>
   </div>
  
   <div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a href="Emails.html">Send/Program Emails</a>
    <a href="#">Notifications</a>
    <a href="#">Email Templates</a>
  </div>

<div id="new-contact">


</div>
  <script>
    //Dictionary with the client contacts
    var contacts=[
    { 
    "product":"Blackboard",
    "supplier":"BlackboardInc",
    "end_date":"20/05/2025",
    "email":"example@gmail.com"
    },
    {
    "product":"Microsoft 360",
    "supplier":"Microsoft",
    "end_date":"13/03/2026",
    "email":"microsoft@outlook.com"
    },
    {
    "product":"O'Really learning",
    "supplier":"O'Really Learning",
    "end_date":"13/04/2026",
    "email":"oreallylearning@gmail.com"
    },
    {
      "product":"Monitor",
      "supplier":"Dell",
      "end_date":"09/05/2026",
      "email":"dell@gmail.com"
    },
    {
      "product":"Apps Anywhere",
      "supplier":"Apps Anywhere",
      "end_date":"1/07/2027",
      "email":"appsanywhere@gmail.com"
    },
    {
      "product":"Maintenance",
      "supplier":"Lancer Scott",
      "end_date":"20/05/2027",
      "email":"lancerscott@gmail.com"
    }
  ];
  //Get the data from the dictionary and into the table 
  const tableBody = document.querySelector("#myTable tbody");
  contacts.forEach(contact=>{
    const row=document.createElement('tr');

    const productCell = document.createElement('td');
    productCell.textContent = contact.product;
    row.appendChild(productCell);

    const supplierCell = document.createElement('td');
    supplierCell.textContent = contact.supplier;
    row.appendChild(supplierCell);

    const end_dateCell = document.createElement('td');
    end_dateCell.textContent = contact.end_date;
    row.appendChild(end_dateCell);

    const emailCell = document.createElement('td');
    emailCell.textContent = contact.email;
    row.appendChild(emailCell);

    tableBody.appendChild(row);
  });

  function myFunction() {
    // Declare variables
    var input, filter, table, tr, td, i, txtValue;
    input = document.getElementById("myInput");
    filter = input.value.toUpperCase();
    table = document.getElementById("myTable");
    tr = table.getElementsByTagName("tr");
  
    // Loop through all table rows, and hide those who don't match the search query
    for (i = 0; i < tr.length; i++) {
      td = tr[i].getElementsByTagName("td")[2];
      if (td) {
        txtValue = td.textContent || td.innerText;
        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          tr[i].style.display = "";
        } else {
          tr[i].style.display = "none";
        }
      }
    }
  }
 //Side bar menu
  function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
  }
  
  function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
  }
  </script>
  </body>
</html>
